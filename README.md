# Домашнее задание к занятию  «Уязвимости и атаки на информационные системы» - "Засим Артем"


---

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя nmap.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

Какие сетевые службы в ней разрешены?
Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
Приведите ответ в свободной форме.



На виртуальной машине разрешены следующие службы:

FTP (21/tcp): vsftpd 2.3.4
SSH (22/tcp): OpenSSH 4.7p1 Debian 8ubuntu1
Telnet (23/tcp): Linux telnetd
SMTP (25/tcp): Postfix smtpd
DNS (53/tcp): ISC BIND 9.4.2
HTTP (80/tcp): Apache httpd 2.2.8
RPCbind (111/tcp): версия 2
NetBIOS-SSN (139/tcp, 445/tcp): Samba smbd 3.X - 4.X
exec (512/tcp): netkit-rsh rexecd
login (513/tcp): OpenBSD или Solaris rlogind
shell (514/tcp): Netkit rshd
Java RMI (1099/tcp): GNU Classpath grmiregistry
bindshell (1524/tcp): Metasploitable root shell
NFS (2049/tcp): версия 2-4
FTP (2121/tcp): ProFTPD 1.3.1
MySQL (3306/tcp): MySQL 5.0.51a-3ubuntu5
PostgreSQL (5432/tcp): PostgreSQL DB 8.3.0 - 8.3.7
VNC (5900/tcp): VNC (протокол 3.3)
X11 (6000/tcp): доступ запрещён
IRC (6667/tcp): UnrealIRCd
AJP13 (8009/tcp): Apache Jserv (Protocol v1.3)
HTTP (8180/tcp): Apache Tomcat/Coyote JSP engine 1.1


Были обнаружены следующие уязвимости:

vsftpd 2.3.4 - Backdoor Command Execution
vsftpd 2.3.4 содержит backdoor, который позволяет удалённому злоумышленнику выполнить произвольные команды на сервере.
https://www.exploit-db.com/exploits/17491

UnrealIRCd 3.2.8.1 - Backdoor Command Execution
UnrealIRCd содержит backdoor, который позволяет злоумышленнику выполнить произвольные команды на сервере.
https://www.exploit-db.com/exploits/16922

ProFTPD 1.3.1 - File Copy Vulnerability
ProFTPD 1.3.1 уязвим к атаке, позволяющей копировать файлы на сервер без авторизации.
https://www.exploit-db.com/exploits/36742


---

### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
Как отвечает сервер?
Приведите ответ в свободной форме.


Отличия режимов сканирования с точки зрения сетевого трафика
SYN-сканирование (-sS):

Nmap отправляет TCP-пакеты с установленным флагом SYN (запрос на установление соединения).
Если порт открыт, сервер отвечает пакетом с флагами SYN-ACK.
Nmap не завершает трёхэтапное рукопожатие, отправляя вместо этого RST-пакет.
Преимущество: Быстрое и скрытное, так как соединение не завершается.
Трафик: В Wireshark видно множество SYN-пакетов и ответов SYN-ACK или RST.


https://github.com/Artem35135/gitlab-hw/blob/main/img/wireshark1.png


FIN-сканирование (-sF):

Nmap отправляет TCP-пакеты с установленным флагом FIN (запрос на завершение соединения).
Если порт закрыт, сервер отвечает пакетом RST.
Если порт открыт, сервер игнорирует пакет (нет ответа).
Преимущество: Может обойти некоторые виды фильтрации, так как не пытается установить соединение.
Трафик: В Wireshark видно FIN-пакеты и ответы RST (или их отсутствие).

https://github.com/Artem35135/gitlab-hw/blob/main/img/wireshark2.png


Xmas-сканирование (-sX):

Nmap отправляет TCP-пакеты с установленными флагами FIN, PSH и URG.
Если порт закрыт, сервер отвечает пакетом RST.
Если порт открыт, сервер игнорирует пакет (нет ответа).
Преимущество: Может обойти некоторые виды фильтрации, как и FIN-сканирование.
Трафик: В Wireshark видно пакеты с множеством флагов и ответы RST (или их отсутствие).

https://github.com/Artem35135/gitlab-hw/blob/main/img/wireshark3.png


UDP-сканирование (-sU):

Nmap отправляет UDP-пакеты на целевые порты.
Если порт открыт, сервер может ответить UDP-пакетом (в зависимости от службы).
Если порт закрыт, сервер отвечает ICMP-пакетом "Port Unreachable".
Преимущество: Позволяет обнаружить UDP-службы, которые не видны при TCP-сканировании.
Трафик: В Wireshark видно UDP-пакеты и ICMP-ответы.


https://github.com/Artem35135/gitlab-hw/blob/main/img/wireshark4.png

Как отвечает сервер?

SYN-сканирование:

На открытые порты: SYN-ACK.
На закрытые порты: RST.

FIN-сканирование:

На закрытые порты: RST.
На открытые порты: нет ответа.

Xmas-сканирование:

На закрытые порты: RST.
На открытые порты: нет ответа.

UDP-сканирование:

На открытые порты: UDP-ответ (если служба отвечает) или нет ответа.
На закрытые порты: ICMP "Port Unreachable".


